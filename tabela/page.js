(()=>{var e={};e.id=90,e.ids=[90],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34770:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(65239),n=t(48088),r=t(88170),l=t.n(r),i=t(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let d={children:["",{children:["tabela",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,85881)),"C:\\Users\\mateu\\OneDrive\\Desktop\\zabawy z AI\\zabawy 142\\warhammer-campaign\\app\\tabela\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\mateu\\OneDrive\\Desktop\\zabawy z AI\\zabawy 142\\warhammer-campaign\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\mateu\\OneDrive\\Desktop\\zabawy z AI\\zabawy 142\\warhammer-campaign\\app\\tabela\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/tabela/page",pathname:"/tabela",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57272:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var s=t(60687),n=t(43210),r=t(55496),l=t(96752),i=t(24934),o=t(62688);let d=(0,o.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var c=t(9005),p=t(81620);let m=(0,o.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var u=t(96241),x=t(99829),h=t(30036);function f(){(0,n.useRef)(!0);let e=(0,n.useRef)(null),{entries:a}=(0,r.E)(),[o,h]=(0,n.useState)([]),[f,b]=(0,n.useState)({key:"points",direction:"descending"}),[g,y]=(0,n.useState)(!1),[j,k]=(0,n.useState)([]),w=(0,n.useCallback)(e=>{b(a=>{let t="ascending";return a.key===e&&"ascending"===a.direction&&(t="descending"),{key:e,direction:t}})},[]),v=(0,n.useCallback)(async()=>{if(!e.current){alert("Nie można znaleźć tabeli do eksportu");return}try{let a=(await t.e(424).then(t.bind(t,94424))).default,s=document.createElement("div");s.style.padding="20px",s.style.backgroundColor="#f5f0e6",s.style.fontFamily="Arial, sans-serif";let n=document.createElement("h2");n.textContent="Poznańska Kampania Old World - Tabela Wynik\xf3w",n.style.fontSize="20px",n.style.fontWeight="bold",n.style.marginBottom="10px",n.style.color="#8B0000";let r=document.createElement("p");r.textContent=`Wygenerowano: ${new Date().toLocaleDateString("pl-PL")}`,r.style.fontSize="12px",s.appendChild(n),s.appendChild(r);let l=document.createElement("div");l.style.backgroundColor="#f5f0e6",l.style.padding="20px",l.style.borderRadius="8px",l.style.boxShadow="0 4px 8px rgba(0,0,0,0.1)";let i=e.current.cloneNode(!0);i.querySelectorAll("thead button").forEach(e=>{e.innerHTML=e.textContent?.trim().split(" ")[0]||""}),l.appendChild(s),l.appendChild(i),document.body.appendChild(l);let o=await a(l,{backgroundColor:"#f5f0e6",scale:2,logging:!1,useCORS:!0});document.body.removeChild(l);let d=o.toDataURL("image/jpeg",.9),c=document.createElement("a");c.href=d,c.download="kampania-tabela.jpg",c.click()}catch(e){console.error("Error generating JPG:",e),alert("Wystąpił błąd podczas generowania obrazu JPG")}},[]),C=(0,n.useCallback)(async()=>{try{let e=await t.e(403).then(t.bind(t,4403)),a=await t.e(848).then(t.bind(t,88848)),s=e.default,n=a.default,r=new s({orientation:"portrait",unit:"mm",format:"a4",putOnlyUsedFonts:!0,compress:!0});r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Poznańska Kampania Old World - Tabela Wynik\xf3w",14,22);let l=new Date;r.setFont("helvetica","normal"),r.setFontSize(10),r.text(`Wygenerowano: ${l.toLocaleDateString("pl-PL")}`,14,30);let i=(e,a)=>e?e.length>a?e.substring(0,a)+"...":e:"",d=o.map(e=>[i((0,u.k)(e.name),12),i(e.army,15),e.kp,e.battlesPlayed,e.vpGained,e.vpLost,e.points]);n(r,{head:[["Gracz","Armia","KP","Bitwy","Zdobyte VP","Stracone VP","Punkty"]],body:d,startY:35,styles:{fontSize:8,cellPadding:2,font:"helvetica"},headStyles:{fillColor:[139,0,0],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,240,230]},didDrawCell:e=>{}}),r.save("kampania-tabela.pdf")}catch(e){console.error("Error generating PDF:",e),alert("Wystąpił błąd podczas generowania PDF")}},[o]),N=(0,n.useCallback)(()=>{y(e=>!e)},[]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Tabela Wynik\xf3w"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",onClick:C,children:[(0,s.jsx)(d,{className:"h-4 w-4"}),"Eksportuj jako PDF"]}),(0,s.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",onClick:v,children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),"Eksportuj jako JPG"]}),(0,s.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",onClick:N,children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),"Udostępnij"]})]})]}),(0,s.jsx)("div",{ref:e,children:(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{className:"w-[200px]",children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("name"),children:["Imię i Nazwisko ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(l.nd,{children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("army"),children:["Nazwa Armii ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(l.nd,{children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("kp"),children:["KP ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(l.nd,{children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("battlesPlayed"),children:["Liczba Bitew ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(l.nd,{children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("vpGained"),children:["Zdobyte VP ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(l.nd,{children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("vpLost"),children:["Stracone VP ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(l.nd,{children:(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>w("points"),children:["Liczba Punkt\xf3w ",(0,s.jsx)(m,{className:"ml-2 h-4 w-4"})]})})]})}),(0,s.jsx)(l.BF,{children:o.map(e=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{className:"font-medium",children:(0,u.k)(e.name)}),(0,s.jsx)(l.nA,{children:e.army}),(0,s.jsx)(l.nA,{children:e.kp}),(0,s.jsx)(l.nA,{children:e.battlesPlayed}),(0,s.jsx)(l.nA,{children:e.vpGained}),(0,s.jsx)(l.nA,{children:e.vpLost}),(0,s.jsx)(l.nA,{children:e.points})]},e.name))})]})}),g&&(0,s.jsx)(x.o,{isOpen:g,onClose:()=>y(!1),data:o,title:"Tabela",description:"Udostępnij tabelę wynik\xf3w innym graczom"})]})}(0,h.default)(async()=>{},{loadableGenerated:{modules:["app\\tabela\\page.tsx -> jspdf"]},ssr:!1}),(0,h.default)(async()=>{},{loadableGenerated:{modules:["app\\tabela\\page.tsx -> jspdf-autotable"]},ssr:!1}),(0,h.default)(async()=>{},{loadableGenerated:{modules:["app\\tabela\\page.tsx -> html2canvas"]},ssr:!1})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75363:(e,a,t)=>{Promise.resolve().then(t.bind(t,85881))},85881:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\mateu\\\\OneDrive\\\\Desktop\\\\zabawy z AI\\\\zabawy 142\\\\warhammer-campaign\\\\app\\\\tabela\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\mateu\\OneDrive\\Desktop\\zabawy z AI\\zabawy 142\\warhammer-campaign\\app\\tabela\\page.tsx","default")},89435:(e,a,t)=>{Promise.resolve().then(t.bind(t,57272))},99829:(e,a,t)=>{"use strict";t.d(a,{o:()=>f});var s=t(60687),n=t(43210),r=t(37826),l=t(24934),i=t(54304),o=t(96241);let d=i.bL,c=n.forwardRef(({className:e,...a},t)=>(0,s.jsx)(i.B8,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));c.displayName=i.B8.displayName;let p=n.forwardRef(({className:e,...a},t)=>(0,s.jsx)(i.l9,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));p.displayName=i.l9.displayName;let m=n.forwardRef(({className:e,...a},t)=>(0,s.jsx)(i.UC,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));m.displayName=i.UC.displayName;var u=t(70615),x=t(31158),h=t(46211);function f({isOpen:e,onClose:a,data:t,title:i,description:o}){let[f,b]=(0,n.useState)(""),[g,y]=(0,n.useState)(!1),j=(0,n.useCallback)(()=>{try{let e=JSON.stringify(t),a=btoa(e),s=`${window.location.origin}${window.location.pathname}?data=${a}`;navigator.clipboard.writeText(s),y(!0),setTimeout(()=>y(!1),2e3)}catch(e){console.error("Error copying link:",e),alert("Wystąpił błąd podczas kopiowania linku")}},[t]),k=(0,n.useCallback)(()=>{try{let e=JSON.stringify(t),a="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=`warhammer-${i.toLowerCase()}.json`,n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",s),n.click()}catch(e){console.error("Error downloading file:",e),alert("Wystąpił błąd podczas pobierania pliku")}},[t,i]);return(0,s.jsx)(r.lG,{open:e,onOpenChange:a,children:(0,s.jsxs)(r.Cf,{className:"sm:max-w-md",children:[(0,s.jsxs)(r.c7,{children:[(0,s.jsxs)(r.L3,{children:["Udostępnij ",i]}),(0,s.jsx)(r.rr,{children:o})]}),(0,s.jsxs)(d,{defaultValue:"qrcode",children:[(0,s.jsxs)(c,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(p,{value:"qrcode",children:"Kod QR"}),(0,s.jsx)(p,{value:"link",children:"Link"})]}),(0,s.jsx)(m,{value:"qrcode",className:"flex justify-center py-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[f&&(0,s.jsx)(h.h,{value:f,size:200,level:"H",includeMargin:!0}),(0,s.jsx)("p",{className:"text-sm text-center text-muted-foreground",children:"Zeskanuj kod QR, aby pobrać dane"})]})}),(0,s.jsxs)(m,{value:"link",className:"flex flex-col gap-4 py-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(l.$,{onClick:j,className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),g?"Skopiowano!":"Kopiuj link do udostępnienia"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Link zawiera zakodowane dane, kt\xf3re można otworzyć w przeglądarce"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(l.$,{onClick:k,variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Pobierz plik JSON"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pobierz plik, kt\xf3ry można zaimportować w aplikacji"})]})]})]})]})})}}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[660,716,683,891],()=>t(34770));module.exports=s})();